(function(){$(function(){var a;return a=$.ajax({dataType:"json",url:"/api/v1/user-report.json",error:function(a,b,c){return console.log("Ups",a,b,c,c)},success:function(a){var b,c,d,e,f,g,h,i,j,k,l,m;for(console.log("["+new Date+"] Got report:",a),d=""+new Date(1e3*a.from)+" - "+new Date(1e3*a.to)+" (AuflÃ¶sung "+a.resolution/60+"min)",$("#date-container").text(d),g={},l=a.timeFrames,j=0,k=l.length;k>j;j++){c=l[j],m=c.storage;for(h in m)i=m[h],g[h]||(g[h]=[]),g[h].push({x:new Date(1e3*c.startTime),y:i})}f=[];for(h in g)b=g[h],f.push({key:h,values:b});return e=nv.addGraph(function(){var a;return a=nv.models.multiBarChart(),a.xAxis.tickFormat(d3.time.format("%d.%m.%Y %HUhr")),a.yAxis.tickFormat(d3.format(",.1f")),d3.select("#storage-chart svg").datum(f).transition().duration(500).call(a),nv.utils.windowResize(a.update),a}),$(".loading-banner").hide()}}),console.log("["+new Date+"] Loading report")})}).call(this);